{"failedCount":1,"prefixedPath":"classpath:features\/SendMail.feature","packageQualifiedName":"features.SendMail","loopIndex":-1,"relativePath":"features\/SendMail.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3093900,"startTime":1753340082189,"endTime":1753340082192,"millis":3.0939,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url userSoapUrl"}},{"result":{"nanos":4098200,"startTime":1753340082196,"endTime":1753340082200,"millis":4.0982,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def username = 'xyz2313490priyankatalekar5@qa-u56-singlenode-ps.eng.zimbra.com'"}},{"result":{"nanos":1263900,"startTime":1753340082201,"endTime":1753340082202,"millis":1.2639,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def password = 'Welcome123'"}},{"result":{"nanos":344323200,"startTime":1753340082202,"endTime":1753340082546,"millis":344.3232,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"configure ssl = true"}},{"result":{"nanos":175482600,"startTime":1753340082546,"endTime":1753340082721,"millis":175.4826,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def loginRequest = read('classpath:requests\/authRequestUser.xml')"}},{"result":{"nanos":2425400,"startTime":1753340082723,"endTime":1753340082725,"millis":2.4254,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Given","index":5,"text":"request loginRequest"}},{"result":{"nanos":1370500,"startTime":1753340082726,"endTime":1753340082727,"millis":1.3705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"And","index":6,"text":"header Content-Type = 'application\/soap+xml'"}},{"result":{"nanos":921728900,"startTime":1753340082727,"endTime":1753340083649,"millis":921.7289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"When","index":7,"text":"method POST"},"stepLog":"12:24:43.144 request:\n1 > POST https:\/\/80.225.207.85\/service\/soap\/\n1 > Content-Type: application\/soap+xml; charset=UTF-8\n1 > Content-Length: 359\n1 > Host: 80.225.207.85\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n<soap:Envelope xmlns:soap=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\">\r\n  <soap:Header\/>\r\n  <soap:Body>\r\n    <AuthRequest xmlns=\"urn:zimbraAccount\" csrfTokenSecured=\"1\">\r\n      <account by=\"name\">xyz2313490priyankatalekar5@qa-u56-singlenode-ps.eng.zimbra.com<\/account>\r\n      <password>Welcome123<\/password>\r\n    <\/AuthRequest>\r\n  <\/soap:Body>\r\n<\/soap:Envelope>\n\n12:24:43.634 response time in milliseconds: 474\n1 < 200\n1 < Server: nginx\n1 < Date: Thu, 24 Jul 2025 06:54:43 GMT\n1 < Content-Type: text\/xml;charset=utf-8\n1 < Content-Length: 700\n1 < Connection: keep-alive\n1 < Set-Cookie: ZM_AUTH_TOKEN=0_7be377f07280b4176ce2c832bbc22fc0dae30fe2_69643d33363a38303439303461372d346463302d346365642d626437332d6136393836376563653234383b6578703d31333a313735333531323838333437313b747970653d363a7a696d6272613b753d313a613b7469643d393a3832383732333233313b76657273696f6e3d31343a31302e312e305f47415f343635353b637372663d313a313b; Path=\/; Secure; HttpOnly\n1 < Expires: Thu, 01 Jan 1970 00:00:00 GMT\n1 < X-Zimbra-Csrf-Token: 0_cd58ab116df2f075302da9e357258c8b1b85b2b3\n1 < Cache-Control: no-store, no-cache\n1 < Vary: Accept-Encoding, User-Agent\n<soap:Envelope xmlns:soap=\"http:\/\/www.w3.org\/2003\/05\/soap-envelope\"><soap:Header><context xmlns=\"urn:zimbra\"><change token=\"1014\"\/><\/context><\/soap:Header><soap:Body><AuthResponse xmlns=\"urn:zimbraAccount\"><authToken>0_7be377f07280b4176ce2c832bbc22fc0dae30fe2_69643d33363a38303439303461372d346463302d346365642d626437332d6136393836376563653234383b6578703d31333a313735333531323838333437313b747970653d363a7a696d6272613b753d313a613b7469643d393a3832383732333233313b76657273696f6e3d31343a31302e312e305f47415f343635353b637372663d313a313b<\/authToken><lifetime>172799999<\/lifetime><skin>harmony<\/skin><csrfToken>0_cd58ab116df2f075302da9e357258c8b1b85b2b3<\/csrfToken><\/AuthResponse><\/soap:Body><\/soap:Envelope>\n\n"},{"result":{"nanos":9053600,"startTime":1753340083648,"endTime":1753340083657,"millis":9.0536,"status":"passed"},"step":{"background":true,"line":13,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":147172100,"startTime":1753340083658,"endTime":1753340083805,"millis":147.1721,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":9,"text":"def authToken = karate.xmlPath(response, '\/\/authToken')"}},{"result":{"nanos":11697800,"startTime":1753340083806,"endTime":1753340083818,"millis":11.6978,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":10,"text":"def csrfToken = karate.xmlPath(response, '\/\/csrfToken')"}},{"result":{"nanos":70824100,"startTime":1753340083818,"endTime":1753340083889,"millis":70.8241,"status":"passed"},"step":{"line":18,"prefix":"*","index":0,"text":"def builder = call read('classpath:helpers\/builder.js')"}},{"result":{"nanos":56214200,"startTime":1753340083889,"endTime":1753340083945,"millis":56.2142,"status":"passed"},"step":{"endLine":29,"line":19,"prefix":"*","docString":"{\n  authToken: authToken,\n  csrfToken: csrfToken,\n  subject: 'Zimbra Reusable Framework Email',\n  to: 'qauser_f8b093fa@qa-u56-singlenode-ps.eng.zimbra.com',\n  contentType: 'text\/plain',\n  body: 'This is a reusable framework test email.'\n}","index":1,"text":"def emailData ="}},{"result":{"nanos":9926800,"startTime":1753340083945,"endTime":1753340083955,"millis":9.9268,"status":"passed"},"step":{"line":30,"prefix":"*","index":2,"text":"def finalPayload = builder.buildEmailPayload(emailData)"}},{"result":{"nanos":4229200,"startTime":1753340083955,"endTime":1753340083959,"millis":4.2292,"status":"passed"},"step":{"line":32,"prefix":"*","index":3,"text":"def authToken = finalPayload.authToken"}},{"result":{"nanos":2700600,"startTime":1753340083960,"endTime":1753340083963,"millis":2.7006,"status":"passed"},"step":{"line":33,"prefix":"*","index":4,"text":"def csrfToken = finalPayload.csrfToken"}},{"result":{"nanos":6328100,"startTime":1753340083963,"endTime":1753340083969,"millis":6.3281,"status":"passed"},"step":{"line":34,"prefix":"*","index":5,"text":"def subject = finalPayload.subject"}},{"result":{"nanos":2439000,"startTime":1753340083969,"endTime":1753340083971,"millis":2.439,"status":"passed"},"step":{"line":35,"prefix":"*","index":6,"text":"def to = finalPayload.to"}},{"result":{"nanos":3372700,"startTime":1753340083972,"endTime":1753340083975,"millis":3.3727,"status":"passed"},"step":{"line":36,"prefix":"*","index":7,"text":"def contentType = finalPayload.contentType"}},{"result":{"nanos":2163100,"startTime":1753340083975,"endTime":1753340083977,"millis":2.1631,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"def body = finalPayload.body"}},{"result":{"nanos":6122200,"startTime":1753340083978,"endTime":1753340083984,"millis":6.1222,"status":"passed"},"step":{"line":39,"prefix":"*","index":9,"text":"def rawTemplate = karate.readAsString('classpath:requests\/sendMessageRequest.xml')"}},{"result":{"nanos":36756100,"errorMessage":"js failed:\n>>>>\n01: karate.replace(rawTemplate, finalPayload)\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (replace) on com.intuit.karate.core.ScenarioBridge failed due to: Unknown identifier: replace\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/SendMail.feature:40","startTime":1753340083984,"endTime":1753340084021,"millis":36.7561,"status":"failed"},"step":{"line":40,"prefix":"*","index":10,"text":"def requestBody = karate.replace(rawTemplate, finalPayload)"},"stepLog":"12:24:44.023 classpath:features\/SendMail.feature:40\n* def requestBody = karate.replace(rawTemplate, finalPayload)\njs failed:\n>>>>\n01: karate.replace(rawTemplate, finalPayload)\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (replace) on com.intuit.karate.core.ScenarioBridge failed due to: Unknown identifier: replace\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/SendMail.feature:40\n"},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":11,"text":"print 'RAW TEMPLATE:', rawTemplate"}},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"*","index":12,"text":"print 'RENDERED REQUEST:', requestBody"}},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"Given","index":13,"text":"request requestBody"}},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":14,"text":"header Content-Type = 'application\/soap+xml'"}},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"When","index":15,"text":"method POST"}},{"result":{"nanos":0,"startTime":1753340084023,"endTime":1753340084023,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"Then","index":16,"text":"status 200"}}],"line":17,"description":"","durationMillis":1822.7862,"failed":true,"error":"js failed:\n>>>>\n01: karate.replace(rawTemplate, finalPayload)\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (replace) on com.intuit.karate.core.ScenarioBridge failed due to: Unknown identifier: replace\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/SendMail.feature:40","executorName":"main","name":"Send email using builder and rendered template","startTime":1753340081958,"refId":"[1:17]","endTime":1753340084023,"exampleIndex":-1}],"callDepth":0,"name":"Send Zimbra email using reusable builder and template","description":"","resultDate":"2025-07-24 12:24:44 pm","durationMillis":1822.7862,"passedCount":0}